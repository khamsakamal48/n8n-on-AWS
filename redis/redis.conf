# =============================================================================
# Redis 7 Configuration â€” n8n Queue Broker + AI Chat Memory
# =============================================================================
# This file is bind-mounted into the Redis container.
# Password is passed via --requirepass command-line flag (not stored here).
# =============================================================================

# --- Memory ---
maxmemory 256mb
maxmemory-policy allkeys-lru

# --- Persistence ---
# AOF: durable writes, survives container restarts
appendonly yes

# RDB snapshots: save after 900s if at least 1 key changed
save 900 1

# --- Databases ---
# DB 0: queue mode, DB 1: chat memory, DB 2-3: spare
databases 4
