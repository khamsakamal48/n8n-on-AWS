# =============================================================================
# n8n Production Environment Variables
# =============================================================================
# SECURITY: chmod 600 this file. Do NOT commit to version control.
# Secrets are auto-generated by deploy.sh — or set manually below.
# =============================================================================

# --- PostgreSQL ---
DB_USER=n8n
DB_PASSWORD=CHANGE_ME_generate_with_openssl_rand_base64_32
DB_NAME=n8n

# --- Redis ---
REDIS_PASSWORD=CHANGE_ME_generate_with_openssl_rand_base64_32

# --- n8n Hosting ---
N8N_HOST=n8n.iitbacr.space
N8N_ENCRYPTION_KEY=CHANGE_ME_generate_with_openssl_rand_base64_32

# --- Task Runners ---
RUNNERS_AUTH_TOKEN=CHANGE_ME_generate_with_openssl_rand_base64_48

# --- Podman Socket (auto-detected by deploy.sh) ---
# Rootful:  /run/podman/podman.sock
# Rootless: /run/user/<UID>/podman/podman.sock
PODMAN_SOCKET=/run/podman/podman.sock

# =============================================================================
# NOTES:
#   deploy.sh auto-generates all secrets and detects socket path.
#   To regenerate manually:
#     openssl rand -base64 32 | tr -d '/+='    # DB_PASSWORD, ENCRYPTION_KEY, REDIS_PASSWORD
#     openssl rand -base64 48 | tr -d '/+='    # RUNNERS_AUTH_TOKEN
#
#   ⚠ NEVER change N8N_ENCRYPTION_KEY after first launch — doing so makes
#     all stored credentials (API keys, OAuth tokens) in n8n unreadable.
#
#   Redis Chat Memory — configure in n8n UI:
#     Host: n8n-redis   Port: 6379   Password: (value above)
#
#   Docling Serve — access from n8n workflows:
#     POST http://n8n-docling:5001/v1/convert/file     (file upload)
#     POST http://n8n-docling:5001/v1/convert/source   (URL conversion)
#     Swagger: http://localhost:5001/docs
#     Web UI:  http://localhost:5001/ui
# =============================================================================